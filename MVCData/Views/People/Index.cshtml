@model PeopleViewModel
@{
    ViewData["Title"] = "People";
}

<h1>People</h1>

<h3>Search</h3>

<form asp-action="Index" method="post">
    <label asp-for="SearchPhrase"></label>
    <input asp-for="SearchPhrase" />
</form>

<h3>Add Person</h3>
<form asp-action="CreatePerson" asp-controller="People" method="post">

    <label asp-for="CreatePerson.Name"></label>
    <input asp-for="CreatePerson.Name" />
    <span asp-validation-for="CreatePerson.Name"></span>

    <label asp-for="CreatePerson.City"></label>
    <input asp-for="CreatePerson.City" />
    <span asp-validation-for="CreatePerson.City"></span>

    <label asp-for="CreatePerson.PhoneNumber"></label>
    <input asp-for="CreatePerson.PhoneNumber" />
    <span asp-validation-for="CreatePerson.PhoneNumber"></span>

    <button type="submit">Create</button>
    <button type="reset">Reset</button>
</form>

<button type="button" asp-controller="People" asp-action="ShowPeople"
        data-target="peopleView" id="peopleButton">
    People
</button>
<div id="peopleView"></div>
<script>
    $("#peopleButton").click(function (e) {
        $.get("People/ShowPeople", function (res) {
            $("#peopleView").html(res);
        });
    });

</script>
@*<script>
    $("#peopleButton").click(function (e) {
        e.preventDefault();
        var _this = $(this);
        $.get(_this.attr("href"), function (res) {
            $('#' + this.data("target")).html(res);
        });
    });
      
</script>*@
@*@foreach (var person in Model.People)
    {
            <partial name="_PersonView" model ="person" />
        }*@




@*<input type="number" />
    <button type="submit" asp-action="Details"
            data-target="personview" id="details">
        Details
    </button>
    <partial name="_PersonView" />
    <script>
        $("#details").click(function () {

            var _this = $(this);
            $get("People/Details", function (res) {
                $('#' + _this.data("target")).html(res);
            });

        });
    </script>*@




@*<button type="submit">Delete</button>*@






